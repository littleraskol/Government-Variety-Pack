# Government Variety Pack
# Armies
# Author: littleraskol

# Evangelist
lrsk_gvp_evangelist_unit = {
	damage = 4.0
	morale_damage = 7.0
	collateral_damage = 4.0
	health = 7.5
	morale = 1.75
	war_exhaustion = 4.0
	time = 0

	icon = GFX_army_type_machine_assault

	resources = {
		category = armies

		upkeep = {
			energy = 6
			food = 2
		}
	}

	potential_country = {
		always = no		# event-added
	}
}

# Mass-Production Evangelist
lrsk_gvp_mp_evangelist_unit = {
	damage = 3.0
	morale_damage = 6.0
	collateral_damage = 4.0
	health = 6.25
	morale = 1.75
	war_exhaustion = 4.0
	time = 400

	icon = GFX_army_type_machine_assault

	resources = {
		category = armies
		cost = {
			minerals = 700
			alloys = 50
		}

		upkeep = {
			energy = 5
			food = 1
		}
	}

	prerequisites = { "tech_lrsk_gvp_metaphysical_biology" }
	
	allow = {
		custom_tooltip = {
			fail_text = lrsk_gvp_requires_compl_nexus
			lrsk_gets_compl_nexus_boost = yes	# checks for building or deposit
		}
		any_owned_pop = { has_trait = trait_hive_mind }
	}
	
	potential_country = { has_origin = lrsk_gvp_origin_complementation_project }
	
	potential = {
		from = { has_trait = trait_hive_mind }
	}

	ai_weight = {
		base = 50	# ??
	}
}

# Neo-Evangelist
lrsk_gvp_neo_evangelist_unit = {
	damage = 5.0
	morale_damage = 8.0
	collateral_damage = 4.0
	health = 10.0
	morale = 1.75
	war_exhaustion = 4.0
	time = 600

	icon = GFX_army_type_machine_assault

	resources = {
		category = armies
		cost = {
			minerals = 900
			alloys = 100
		}

		upkeep = {
			energy = 7
			food = 3
		}
	}

	prerequisites = { "tech_lrsk_gvp_metaphysical_biology" }
	
	allow = {
		custom_tooltip = {
			fail_text = lrsk_gvp_requires_restored_compl_nexus
			has_deposit = d_lrsk_gvp_compl_project_restored_nexus
		}
		any_owned_pop = { has_trait = trait_hive_mind }
		custom_tooltip = {
			text = lrsk_neo_evangelist_limit_tooltip
			owner = {
				check_variable = {
					which = lrsk_neo_evangelist_count
					value < 3
				}
			}
		}
	}
	
	potential_country = { has_origin = lrsk_gvp_origin_complementation_project }
	
	potential = {
		from = { has_trait = trait_hive_mind }
	}

	on_queued = {
		owner = {
			change_variable = {
				which = lrsk_neo_evangelist_count
				value = 1
			}
		}
	}

	on_unqueued = {
		owner = {
			change_variable = {
				which = lrsk_neo_evangelist_count
				value = -1
			}
		}
	}

	ai_weight = {
		base = 75	# ??
		modifier = {
			set = 0
			check_variable = {
				which = lrsk_neo_evangelist_count
				value >= 3
			}
		}
	}
}