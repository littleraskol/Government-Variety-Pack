# Government Variety Pack
# On-Actions
# Author: littleraskol

on_game_start = {
	events = {
		lrsk_government_variety_pack_backend.1      #Set mod active flag, origins
	}
}

on_game_start_country = {
	events = {
		lrsk_gov_var_uplift.2						# Tutor system finalizations and watchpost system
		lrsk_gov_var_uplift.3						# Trait menu selector
		lrsk_gov_var_direct_revelation.1000			# Starting grace period, special interactions
		lrsk_government_variety_pack_backend.3		# Make sure that for origins that spawn new nearby empires, unlikely to be boxed in completely
	}
}

# this = country
on_monthly_pulse_country = {
	events = {
		lrsk_gov_var_chartered.1000					# Chartered company housekeeping
	}
}

on_yearly_pulse_country = {
	events = {
		lrsk_gov_var_shroud_touched.4 				# This gets checked a few places, but having an occasional fallback check is good.
		lrsk_gov_var_shroud_touched.7 				# Not the best solution but I don't want to poll all leaders everywhere too often...
		lrsk_gov_var_shroud_touched.8 				# Not the best solution but I don't want to poll all leaders everywhere too often...

		lrsk_government_variety_pack_backend.2 		# Just in case some mod removed mandatory starting planet features.

		lrsk_gov_var_sublight_origins.1000			# Sublight housekeeping
	}
}

on_bi_yearly_pulse = {
	events = {
		lrsk_gov_var_shroud_touched.9 				# Not the best solution but I don't want to poll all leaders everywhere too often...
		lrsk_gov_var_shroud_touched.10 				# Not the best solution but I don't want to poll all pops everywhere too often...
	}
}

on_pop_grown = {
	events = {
		lrsk_gov_var_shroud_touched.2 				# Handles adding esper trait
	}
}

# a new leader is generated for an empire, to be available for recruitment
# scope: country, from: leader
on_leader_spawned = {
	events = {
		lrsk_gov_var_shroud_touched.5 				# Leaders get esper trait as appropriate
	}
}

# Executed when the ruler is ousted and goes back to their pre-ruler class
# From = Previous Ruler, already has the new class
# This = Country
on_ruler_back_to_pre_ruler_class = {
	events = {
		lrsk_gov_var_shroud_touched.6 				# Addes esper leader traits to demoted ruler without them
	}
}

on_tech_increased = {
	events = {
		lrsk_gov_var_sublight_origins.20			# An FTL obtain condition for sublight vassals
	}
}

# This = subject
# From = subject's overlord
on_becoming_subject = {
	events = {
		lrsk_gov_var_chartered.1					# Launches colony charter choice if appropriate
		lrsk_gov_var_uplift.13						# Apply bonus to Uplift origin empire that enlightened
	}
}

# Triggers when a Special Project to uplift a pre-sapient species is completed.
# Note that this will trigger once for each combination of planet & original
# species (but for uplifting this should be only once).
#
# Scope = planet_event
# This = planet scope
# From = uplifted species (pre-modification)
on_uplift_completion = {
	events = {
		lrsk_gov_var_uplift.12						# Apply bonus to Uplift origin empire that uplifted
	}
}

# This = construction ship
# Fires when construction is complete,
# immediately before station is created
on_building_observation_station = {
	events = {
		lrsk_gov_var_uplift.110
	}
}