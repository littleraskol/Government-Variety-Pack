# Diplomatic Aspiration (Pacifist, Xenophile)
# New Advanced Civics
# Ascension Perks
# Author: littleraskol

# Diplomatic Aspiration (Pacifist, Xenophile)
lrsk_adv_civ_ap_diplomatic_aspiration = {

	on_enabled = {
		custom_tooltip = "lrsk_adv_civ_ap_aspiration_unlocks"
		hidden_effect = { country_event = { id = lrsk_adv_civ_aspiration.1 } }
	}

	possible = {
		custom_tooltip = {
			fail_text = "lrsk_adv_civ_ap_diplomatic_complete"
			has_tradition = tr_diplomacy_finish
		}
	}

	modifier = {
		#ascension_perks_add = 1
		envoys_add = 1
		diplo_weight_mult = 0.25
		country_trust_growth = 0.2
	}

	potential = {
		AND = {
			OR = {
				has_valid_civic = lrsk_adv_civ_civic_aspiring_ascendants
				has_valid_civic = lrsk_adv_civ_civic_rampant_ascendants
			}
			NOR = {
				has_ascension_perk = lrsk_adv_civ_ap_diplomatic_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_inquisative_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_dominant_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_expansionist_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_harmonious_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_acquisitive_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_supremacist_aspiration
			}
			OR = {
				has_ethic = ethic_fanatic_xenophile
				has_ethic = ethic_fanatic_pacifist
			}
		}
	}

	ai_weight = {
		factor = 5
	}
}

# Inquisitive Aspiration (Xenophile or Materialist)
lrsk_adv_civ_ap_inquisitive_aspiration = {

	on_enabled = {
		custom_tooltip = "lrsk_adv_civ_ap_aspiration_unlocks"
		hidden_effect = { country_event = { id = lrsk_adv_civ_aspiration.1 } }
	}

	possible = {
		custom_tooltip = {
			fail_text = "lrsk_adv_civ_ap_discovery_complete"
			has_tradition = tr_discovery_finish
		}
	}

	modifier = {
		#ascension_perks_add = 1
		num_tech_alternatives_add = 1
		all_technology_research_speed = 0.2
		ship_anomaly_generation_chance_mult = 0.15
	}

	potential = {
		AND = {
			OR = {
				has_valid_civic = lrsk_adv_civ_civic_aspiring_ascendants
				has_valid_civic = lrsk_adv_civ_civic_rampant_ascendants
			}
			NOR = {
				has_ascension_perk = lrsk_adv_civ_ap_diplomatic_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_inquisative_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_dominant_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_expansionist_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_harmonious_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_acquisitive_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_supremacist_aspiration
			}
			OR = {
				has_ethic = ethic_fanatic_xenophile
				has_ethic = ethic_fanatic_materialist
			}
		}
	}

	ai_weight = {
		factor = 5
	}
}

# Dominant Aspiration (Militarist or Authoritarian)
lrsk_adv_civ_ap_dominant_aspiration = {

	on_enabled = {
		custom_tooltip = "lrsk_adv_civ_ap_aspiration_unlocks"
		hidden_effect = { country_event = { id = lrsk_adv_civ_aspiration.1 } }
	}

	possible = {
		custom_tooltip = {
			fail_text = "lrsk_adv_civ_ap_domination_complete"
			has_tradition = tr_domination_finish
		}
	}

	modifier = {
		#ascension_perks_add = 1
		planet_crime_mult = -0.2
		planet_stability_add = 5
		planet_jobs_specialist_produces_mult = 0.01
		planet_jobs_worker_produces_mult = 0.02
	}

	potential = {
		AND = {
			OR = {
				has_valid_civic = lrsk_adv_civ_civic_aspiring_ascendants
				has_valid_civic = lrsk_adv_civ_civic_rampant_ascendants
			}
			NOR = {
				has_ascension_perk = lrsk_adv_civ_ap_diplomatic_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_inquisative_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_dominant_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_expansionist_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_harmonious_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_acquisitive_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_supremacist_aspiration
			}
			OR = {
				has_ethic = ethic_fanatic_authoritarian
				has_ethic = ethic_fanatic_militarist
			}
		}
	}

	ai_weight = {
		factor = 5
	}
}

# Expansionist Aspiration (Materialist, Xenophobe, or Spiritualist)
lrsk_adv_civ_ap_expansionist_aspiration = {

	on_enabled = {
		custom_tooltip = "lrsk_adv_civ_ap_aspiration_unlocks"
		hidden_effect = { country_event = { id = lrsk_adv_civ_aspiration.1 } }
	}

	possible = {
		custom_tooltip = {
			fail_text = "lrsk_adv_civ_ap_expansion_complete"
			has_tradition = tr_expansion_finish
		}
	}

	modifier = {
		#ascension_perks_add = 1
		science_ship_survey_speed = 0.2
		country_starbase_influence_cost_mult = -0.15
		planet_colony_development_speed_mult = 0.15
	}

	potential = {
		AND = {
			OR = {
				has_valid_civic = lrsk_adv_civ_civic_aspiring_ascendants
				has_valid_civic = lrsk_adv_civ_civic_rampant_ascendants
			}
			NOR = {
				has_ascension_perk = lrsk_adv_civ_ap_diplomatic_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_inquisative_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_dominant_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_expansionist_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_harmonious_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_acquisitive_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_supremacist_aspiration
			}
			OR = {
				has_ethic = ethic_fanatic_xenophobe
				has_ethic = ethic_fanatic_spiritualist
				has_ethic = ethic_fanatic_militarist
			}
		}
	}

	ai_weight = {
		factor = 5
	}
}

# Harmonious Aspiration (Spiritualist, Egalitarian, Authoritarian)
lrsk_adv_civ_ap_harmonious_aspiration = {

	on_enabled = {
		custom_tooltip = "lrsk_adv_civ_ap_aspiration_unlocks"
		hidden_effect = { country_event = { id = lrsk_adv_civ_aspiration.1 } }
	}

	possible = {
		custom_tooltip = {
			fail_text = "lrsk_adv_civ_ap_harmony_complete"
			has_tradition = tr_harmony_finish
		}
	}

	modifier = {
		#ascension_perks_add = 1
		pop_happiness = 0.05
		pop_growth_speed = 0.15
		empire_size_pops_mult = -0.15
	}

	potential = {
		AND = {
			OR = {
				has_valid_civic = lrsk_adv_civ_civic_aspiring_ascendants
				has_valid_civic = lrsk_adv_civ_civic_rampant_ascendants
			}
			NOR = {
				has_ascension_perk = lrsk_adv_civ_ap_diplomatic_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_inquisative_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_dominant_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_expansionist_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_harmonious_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_acquisitive_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_supremacist_aspiration
			}
			OR = {
				has_ethic = ethic_fanatic_spiritualist
				has_ethic = ethic_fanatic_egalitarian
				has_ethic = ethic_fanatic_authoritarian
			}
		}
	}

	ai_weight = {
		factor = 5
	}
}

# Acquisitive Aspiration (Egalitarian or Pacifist)
lrsk_adv_civ_ap_acquisitive_aspiration = {

	on_enabled = {
		custom_tooltip = "lrsk_adv_civ_ap_aspiration_unlocks"
		hidden_effect = {
			country_event = { id = lrsk_adv_civ_aspiration.1 }
		}
	}

	possible = {
		custom_tooltip = {
			fail_text = "lrsk_adv_civ_ap_prosperity_complete"
			has_tradition = tr_prosperity_finish
		}
	}

	modifier = {
		#ascension_perks_add = 1
		trade_value_mult = 0.2
		country_trade_fee = -0.1
		country_energy_produces_mult = 0.05
	}

	potential = {
		AND = {
			OR = {
				has_valid_civic = lrsk_adv_civ_civic_aspiring_ascendants
				has_valid_civic = lrsk_adv_civ_civic_rampant_ascendants
			}
			NOR = {
				has_ascension_perk = lrsk_adv_civ_ap_diplomatic_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_inquisative_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_dominant_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_expansionist_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_harmonious_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_acquisitive_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_supremacist_aspiration
			}
			OR = {
				has_ethic = ethic_fanatic_pacifist
				has_ethic = ethic_fanatic_egalitarian
			}
		}
	}

	ai_weight = {
		factor = 5
	}
}

# Supremacist Aspiration (Militarist, Xenophobe)
lrsk_adv_civ_ap_supremacist_aspiration = {

	on_enabled = {
		custom_tooltip = "lrsk_adv_civ_ap_aspiration_unlocks"
		hidden_effect = {
			country_event = { id = lrsk_adv_civ_aspiration.1 }
		}
	}

	possible = {
		custom_tooltip = {
			fail_text = "lrsk_adv_civ_ap_supremacy_complete"
			has_tradition = tr_supremacy_finish
		}
	}

	modifier = {
		#ascension_perks_add = 1
		army_health = 0.15
		army_damage_mult = 0.15
		army_morale = 0.15
		ship_fire_rate_mult = 0.1
		ship_evasion_mult = 0.1
	}

	potential = {
		AND = {
			OR = {
				has_valid_civic = lrsk_adv_civ_civic_aspiring_ascendants
				has_valid_civic = lrsk_adv_civ_civic_rampant_ascendants
			}
			NOR = {
				has_ascension_perk = lrsk_adv_civ_ap_diplomatic_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_inquisative_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_dominant_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_expansionist_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_harmonious_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_acquisitive_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_supremacist_aspiration
			}
			OR = {
				has_ethic = ethic_fanatic_xenophobe
				has_ethic = ethic_fanatic_militarist
			}
		}
	}

	ai_weight = {
		factor = 5
	}
}

# Idealistic Destiny (Any Fanatic, any Aspiration perk)
lrsk_adv_civ_ap_idealistic_destiny = {

	on_enabled = {
		custom_tooltip = "lrsk_adv_civ_ap_idealistic_destiny_unlocks"
		hidden_effect = {
			country_event = { id = lrsk_adv_civ_aspiration.3 }
		}
	}

	possible = {
		custom_tooltip = {
			fail_text = "lrsk_adv_civ_ap_requires_ascension_perks_4"
			num_ascension_perks > 3
		}
		custom_tooltip = {
			fail_text = "lrsk_adv_civ_ap_aspiration_complete"
			OR = {
				has_ascension_perk = lrsk_adv_civ_ap_diplomatic_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_inquisative_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_dominant_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_expansionist_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_harmonious_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_acquisitive_aspiration
				has_ascension_perk = lrsk_adv_civ_ap_supremacist_aspiration
			}
		}
		custom_tooltip = {
			fail_text = "lrsk_adv_civ_ap_both_trees"
			OR = {
				AND = {
					has_ethic = ethic_fanatic_xenophile
					has_tradition = tr_diplomacy_finish
					has_tradition = tr_discovery_finish
				}
				AND = {
					has_ethic = ethic_fanatic_xenophobe
					has_tradition = tr_expansion_finish
					has_tradition = tr_supremacy_finish
				}
				AND = {
					has_ethic = ethic_fanatic_spiritualist
					has_tradition = tr_expansion_finish
					has_tradition = tr_harmony_finish
				}
				AND = {
					has_ethic = ethic_fanatic_materialist
					has_tradition = tr_discovery_finish
					has_tradition = tr_expansion_finish
				}
				AND = {
					has_ethic = ethic_fanatic_authoritarian
					has_tradition = tr_domination_finish
					has_tradition = tr_harmony_finish
				}
				AND = {
					has_ethic = ethic_fanatic_egalitarian
					has_tradition = tr_harmony_finish
					has_tradition = tr_prosperity_finish
				}
				AND = {
					has_ethic = ethic_fanatic_militarist
					has_tradition = tr_domination_finish
					has_tradition = tr_supremacy_finish
				}
				AND = {
					has_ethic = ethic_fanatic_pacifist
					has_tradition = tr_diplomacy_finish
					has_tradition = tr_prosperity_finish
				}
			}
		}
	}

	#modifier = {
	#	#
	#}

	potential = {
		OR = {
			has_valid_civic = lrsk_adv_civ_civic_aspiring_ascendants
			has_valid_civic = lrsk_adv_civ_civic_rampant_ascendants
		}
		# This is probably redundant but eh explicitness...
		OR = {
			has_ethic = ethic_fanatic_xenophile
			has_ethic = ethic_fanatic_xenophobe
			has_ethic = ethic_fanatic_militarist
			has_ethic = ethic_fanatic_pacifist
			has_ethic = ethic_fanatic_spiritualist
			has_ethic = ethic_fanatic_materialist
			has_ethic = ethic_fanatic_authoritarian
			has_ethic = ethic_fanatic_egalitarian
		}
	}

	ai_weight = {
		factor = 5
	}
}
