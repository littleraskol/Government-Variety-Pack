# Government Variety Pack
# Planerary Deposits
# Author: littleraskol

## Possible Deposit Variables ##
# resources, resource and amount
# potential trigger (planet scope)
# blocked_modifier - applied to planet
# constant_modifier - applied to planet always
# station = station class in orbit to gather
# blocker_swap_types = {}
# all_blocker_swap_types = yes/no
# use_weights_for_blocker_swap_types = yes/no
# terraforming_swap_types = { }
# should_swap_deposit_on_terraforming = yes/no
# all_terraforming_swap_types = yes/no
# use_weights_for_terraforming_swap_types = yes/no

d_lrsk_gov_var_shroud_pockets = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	should_swap_deposit_on_terraforming = no
	
	#category = deposit_cat_energy
	
	planet_modifier = { 
		job_lrsk_gov_var_job_otherworld_guide_add = 1
		job_lrsk_gov_var_job_otherworld_guide_per_pop = 0.04
	}
	
	drop_weight = {
		weight = 0
	}
}

d_lrsk_gvp_compl_project_ruins = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	
	should_swap_deposit_on_terraforming = no
	
	#category = deposit_cat_energy
	
	planet_modifier = { 
		planet_jobs_unity_produces_mult = 0.05
		planet_researchers_produces_mult = 0.05
	}
	
	drop_weight = {
		weight = 0
	}
}

d_lrsk_gvp_compl_singleton_hideout = {
	icon = d_slums
	time = 120

	is_for_colonizable = yes
	category = deposit_cat_blockers

	potential = { always = no }

	planet_modifier = {
		planet_max_districts_add = -1
		planet_crime_no_happiness_mult = 0.1
	}

	on_cleared = {
		hidden_effect = {
			create_pop = {
				species = event_target:lrsk_compl_remnant_species
			}
			create_pop = {
				species = event_target:lrsk_compl_remnant_species
			}
			random_list = {
				2 = {
					set_timed_planet_flag = { flag = lrsk_gvp_compl_no_remnant_damage days = 7 }
				}
				3 = {
					add_planet_devastation = 5
					set_timed_planet_flag = { flag = lrsk_gvp_compl_light_remnant_damage days = 7 }
				}
				2 = {
					add_planet_devastation = 10
					set_timed_planet_flag = { flag = lrsk_gvp_compl_medium_remnant_damage days = 7 }
				}
				1 = {
					add_planet_devastation = 15
					set_timed_planet_flag = { flag = lrsk_gvp_compl_heavy_remnant_damage days = 7 }
				}
			}
			# some event should run the first time to tell the player what's up
		}
		custom_tooltip = d_lrsk_gvp_compl_singleton_hideout_custom_tooltip
	}
	
	ai_weight = {
		weight = 1
		
		modifier = {
			factor = 2
			from = { num_unemployed = 0 }
		}
	}

	resources = {
		category = deposit_blockers
		cost = {
			energy = 300
		}
	}
}

d_lrsk_gvp_compl_final_battlefield = {
	icon = d_radioactive_wasteland
	time = 120

	is_for_colonizable = yes
	category = deposit_cat_blockers

	potential = { always = no }

	planet_modifier = {
		planet_max_districts_add = -1
	}

	use_weights_for_blocker_swap_types = no
	blocker_swap_types = {
		d_lrsk_gvp_compl_salvage_fields
	}

	resources = {
		category = deposit_blockers
		cost = {
			energy = 300
		}
	}
}

d_lrsk_gvp_compl_salvage_fields = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	icon = d_organic_landfill

	planet_modifier = {
		district_generator_max = 4
		planet_jobs_society_research_produces_mult = 0.10
	}

	drop_weight = {
		weight = 0
	}
}

d_lrsk_gvp_compl_bleak_ruins = {
	icon = d_city_ruins
	time = 120

	is_for_colonizable = yes
	category = deposit_cat_blockers

	potential = { always = no }

	planet_modifier = {
		planet_max_districts_add = -1
	}

	use_weights_for_blocker_swap_types = no
	blocker_swap_types = {
		d_metal_boneyard
	}

	resources = {
		category = deposit_blockers
		cost = {
			energy = 300
		}
	}
}

d_lrsk_gvp_compl_mystery_vault = {
	icon = d_ancient_vault
	time = 120

	is_for_colonizable = yes
	category = deposit_cat_blockers

	potential = { always = no }

	planet_modifier = {
		planet_max_districts_add = -1
	}

	on_cleared = {
		hidden_effect = {
			create_pop = {
				species = event_target:lrsk_compl_remnant_species
			}
			# some event should run the first time to tell the player what's up
		}
		custom_tooltip = d_lrsk_gvp_compl_mystery_vault_custom_tooltip
	}

	use_weights_for_blocker_swap_types = no
	blocker_swap_types = {
		d_lrsk_gvp_compl_agriplex
	}
	
	ai_weight = {
		weight = 1
		
		modifier = {
			factor = 2
			from = { num_unemployed = 0 }
		}
	}

	resources = {
		category = deposit_blockers
		cost = {
			energy = 600
		}
	}
}

d_lrsk_gvp_compl_agriplex = {
	is_for_colonizable = yes
	category = deposit_cat_rare
	icon = d_lrsk_agrivault

	planet_modifier = {
		district_farming_max = 2
	}

	drop_weight = {
		weight = 0
	}
}