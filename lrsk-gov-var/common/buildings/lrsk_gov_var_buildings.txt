# Government Variety Pack
# Buildings
# Author: littleraskol

## Army Buildings

# Hall of Honor

lrsk_gov_var_bldg_hall_of_honor = {
	base_buildtime = 240
	#add_to_first_building_slot = yes
	base_cap_amount = 2

	category = army

	potential = {
		owner = { has_valid_civic = lrsk_gov_var_civic_chivalry }
	}

	allow = {
		has_upgraded_capital = yes
	}

	planet_modifier = {
		planet_housing_add = 1
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_chivalry
			}
		}
		job_lrsk_gov_var_job_knight_add = 1
	}

	army_modifier = {
		army_starting_experience_add = 25
		army_morale = 0.1
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = 300
		}
		upkeep = {
			energy = 1
		}
	}

	upgrades = {
		"lrsk_gov_var_bldg_hall_of_valor"
	}

	ai_weight = {
		weight = 0.75

		modifier = {
			factor = 5
			planet_crime > 4
			planet_crime < 15
		}

		modifier = {
			factor = 10
			planet_crime > 14
			planet_crime < 30
		}

		modifier = {
			factor = 20
			planet_crime > 29
			planet_crime < 50
		}

		modifier = {
			factor = 25
			planet_crime > 49
		}
	}
}

# Hall of Valor

lrsk_gov_var_bldg_hall_of_valor = {
	base_buildtime = 360
	can_build = no

	category = army

	allow = {
		has_major_upgraded_capital = yes
	}

	planet_modifier = {
		planet_housing_add = 2
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_chivalry
			}
		}
		job_lrsk_gov_var_job_knight_add = 2
	}

	army_modifier = {
		army_starting_experience_add = 50
		army_morale = 0.2
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = 600
		}
		upkeep = {
			energy = 2
		}
	}

	ai_weight = {
		weight = 0.75

		modifier = {
			factor = 5
			planet_crime > 4
			planet_crime < 15
		}

		modifier = {
			factor = 10
			planet_crime > 14
			planet_crime < 30
		}

		modifier = {
			factor = 20
			planet_crime > 29
			planet_crime < 50
		}

		modifier = {
			factor = 25
			planet_crime > 49
		}
	}
}

## Government Buildings

# Planetary Synaptic Stuff
@lrsk_gov_var_planet_synaptic_unity_cost_base = 1000
@lrsk_gov_var_planet_synaptic_unity_cost_upgrade_1 = 50
@lrsk_gov_var_planet_synaptic_unity_cost_upgrade_2 = 150
@lrsk_gov_var_planet_synaptic_unity_cost_upgrade_3 = 250
@lrsk_gov_var_planet_synaptic_unity_cost_upgrade_4 = 350

@lrsk_gov_var_planet_synaptic_unity_cost_upkeep_1 = 5
@lrsk_gov_var_planet_synaptic_unity_cost_upkeep_2 = 10
@lrsk_gov_var_planet_synaptic_unity_cost_upkeep_3 = 15
@lrsk_gov_var_planet_synaptic_unity_cost_upkeep_4 = 20
@lrsk_gov_var_planet_synaptic_unity_cost_upkeep_5 = 25

@lrsk_gov_var_planet_synaptic_crime_1 = 0.1
@lrsk_gov_var_planet_synaptic_crime_2 = 0.2
@lrsk_gov_var_planet_synaptic_crime_3 = 0.3
@lrsk_gov_var_planet_synaptic_crime_4 = 0.4
@lrsk_gov_var_planet_synaptic_crime_5 = 0.5

@lrsk_gov_var_planet_synaptic_amenities_1 = 0.05
@lrsk_gov_var_planet_synaptic_amenities_2 = 0.15
@lrsk_gov_var_planet_synaptic_amenities_3 = 0.2
@lrsk_gov_var_planet_synaptic_amenities_4 = 0.25
@lrsk_gov_var_planet_synaptic_amenities_5 = 0.3

@lrsk_gov_var_planet_synaptic_popsreq_1 = 5
@lrsk_gov_var_planet_synaptic_popsreq_2 = 15
@lrsk_gov_var_planet_synaptic_popsreq_3 = 30
@lrsk_gov_var_planet_synaptic_popsreq_4 = 50
@lrsk_gov_var_planet_synaptic_popsreq_5 = 75

# Planetary Synaptic Node
lrsk_gov_var_bldg_planet_synaptic_node = {
	base_buildtime = 360
	base_cap_amount = 1

	category = government

	potential = {
		exists = owner
		owner = {
			is_hive_empire = yes
	  		has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
		}
	}

	allow = {
		num_pops >= @lrsk_gov_var_planet_synaptic_popsreq_1
	}

	upgrades = {
		lrsk_gov_var_bldg_planet_synaptic_cluster
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
			}
		}
		planet_amenities_no_happiness_mult = @lrsk_gov_var_planet_synaptic_amenities_1
		planet_crime_no_happiness_mult = @lrsk_gov_var_planet_synaptic_crime_1
		job_lrsk_gov_var_job_planetmind_overseer_add = 1
		job_maintenance_drone_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				NOT = { has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity }
			}
		}
		planet_jobs_society_research_produces_mult = 0.05
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
			}
		}
		text = job_lrsk_gov_var_job_planetmind_overseer_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
			}
		}
		text = job_maintenance_drone_effect_desc
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = 400
			unity = @lrsk_gov_var_planet_synaptic_unity_cost_base
		}
		upkeep = {
			energy = 2
			unity = @lrsk_gov_var_planet_synaptic_unity_cost_upkeep_1
		}
	}

	ai_weight = {
		weight = 1
	}
}

# Planetary Synaptic Cluster
lrsk_gov_var_bldg_planet_synaptic_cluster = {
	base_buildtime = 450

	category = government
	can_build = no

	potential = {
		exists = owner
		owner = {
			is_hive_empire = yes
	  		has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
		}
	}

	allow = {
		num_pops >= @lrsk_gov_var_planet_synaptic_popsreq_2
	}

	upgrades = {
		lrsk_gov_var_bldg_planet_synaptic_confluence
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
			}
		}
		planet_amenities_no_happiness_mult = @lrsk_gov_var_planet_synaptic_amenities_2
		planet_crime_no_happiness_mult = @lrsk_gov_var_planet_synaptic_crime_2
		job_lrsk_gov_var_job_planetmind_overseer_add = 2
		job_maintenance_drone_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				NOT = { has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity }
			}
		}
		planet_jobs_society_research_produces_mult = 0.1
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
			}
		}
		text = job_lrsk_gov_var_job_planetmind_overseer_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
			}
		}
		text = job_maintenance_drone_effect_desc
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = 500
			unity = @lrsk_gov_var_planet_synaptic_unity_cost_upgrade_1
		}
		upkeep = {
			energy = 2
			unity = @lrsk_gov_var_planet_synaptic_unity_cost_upkeep_2
		}
	}

	ai_weight = {
		weight = 1
	}
}

# Planetary Synaptic Confluence
lrsk_gov_var_bldg_planet_synaptic_confluence = {
	base_buildtime = 540

	category = government
	can_build = no

	potential = {
		exists = owner
		owner = {
			is_hive_empire = yes
	  		has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
		}
	}

	allow = {
		num_pops >= @lrsk_gov_var_planet_synaptic_popsreq_3
	}

	upgrades = {
		lrsk_gov_var_bldg_planet_synaptic_core
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
			}
		}
		planet_amenities_no_happiness_mult = @lrsk_gov_var_planet_synaptic_amenities_3
		planet_crime_no_happiness_mult = @lrsk_gov_var_planet_synaptic_crime_3
		job_lrsk_gov_var_job_planetmind_overseer_add = 3
		job_maintenance_drone_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				NOT = { has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity }
			}
		}
		planet_jobs_society_research_produces_mult = 0.15
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
			}
		}
		text = job_lrsk_gov_var_job_planetmind_overseer_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
			}
		}
		text = job_maintenance_drone_effect_desc
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = 600
			unity = @lrsk_gov_var_planet_synaptic_unity_cost_upgrade_2
		}
		upkeep = {
			energy = 3
			unity = @lrsk_gov_var_planet_synaptic_unity_cost_upkeep_3
		}
	}

	ai_weight = {
		weight = 1
	}
}

# Planetary Synaptic Core
lrsk_gov_var_bldg_planet_synaptic_core = {
	base_buildtime = 630

	category = government
	can_build = no

	potential = {
		exists = owner
		owner = {
			is_hive_empire = yes
	  		has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
		}
	}

	allow = {
		num_pops >= @lrsk_gov_var_planet_synaptic_popsreq_4
	}

	upgrades = {
		lrsk_gov_var_bldg_planet_synaptic_nexus
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
			}
		}
		planet_amenities_no_happiness_mult = @lrsk_gov_var_planet_synaptic_amenities_4
		planet_crime_no_happiness_mult = @lrsk_gov_var_planet_synaptic_crime_4
		job_lrsk_gov_var_job_planetmind_overseer_add = 4
		job_maintenance_drone_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				NOT = { has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity }
			}
		}
		planet_jobs_society_research_produces_mult = 0.2
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
			}
		}
		text = job_lrsk_gov_var_job_planetmind_overseer_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
			}
		}
		text = job_maintenance_drone_effect_desc
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = 700
			unity = @lrsk_gov_var_planet_synaptic_unity_cost_upgrade_3
		}
		upkeep = {
			energy = 3
			unity = @lrsk_gov_var_planet_synaptic_unity_cost_upkeep_4
		}
	}

	ai_weight = {
		weight = 1
	}
}

# Planetary Synaptic Nexus
lrsk_gov_var_bldg_planet_synaptic_nexus = {
	base_buildtime = 800

	category = government
	can_build = no

	potential = {
		exists = owner
		owner = {
			is_hive_empire = yes
	  		has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
		}
	}

	allow = {
		num_pops >= @lrsk_gov_var_planet_synaptic_popsreq_5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
			}
		}
		planet_amenities_no_happiness_mult = @lrsk_gov_var_planet_synaptic_amenities_5
		planet_crime_no_happiness_mult = @lrsk_gov_var_planet_synaptic_crime_5
		job_lrsk_gov_var_job_planetmind_overseer_add = 5
		job_maintenance_drone_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				NOT = { has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity }
			}
		}
		planet_jobs_society_research_produces_mult = 0.25
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
			}
		}
		text = job_lrsk_gov_var_job_planetmind_overseer_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_hive_planetmind_creativity
			}
		}
		text = job_maintenance_drone_effect_desc
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = 800
			unity = @lrsk_gov_var_planet_synaptic_unity_cost_upgrade_4
		}
		upkeep = {
			energy = 4
			unity = @lrsk_gov_var_planet_synaptic_unity_cost_upkeep_5
		}
	}

	ai_weight = {
		weight = 1
	}
}

## Automated Indulgence Buildings

# Basic Automation Infrastructure
lrsk_gvp_bldg_autoindolcenter_1 = {
	base_buildtime = @lrsk_autoindolcenter1_time
	base_cap_amount = 1

	#exempt_from_ai_planet_specialization = no	#???

	category = government

	potential = {
		exists = owner
		owner = {
			has_valid_civic = lrsk_gov_var_civic_automated_indolence
		}
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = @lrsk_autoindolcenter1_minerals
		}
		upkeep = {
			energy = @lrsk_autoindolcenter1_upkeep
		}
	}
	
	planet_modifier = {
		planet_jobs_worker_produces_mult = 0.025
		planet_amenities_add = @lrsk_autoindolcenter1_amenities
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_automated_indolence
				is_variable_set = lrsk_ai_techs
				check_variable = { which = lrsk_ai_techs value > 0 }
			}
			NOT = { has_modifier = penal_colony }
		}
		planet_jobs_specialist_produces_mult = 0.01
		mult = owner.lrsk_ai_techs
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_automated_indolence
				is_variable_set = lrsk_robo_techs
				check_variable = { which = lrsk_robo_techs value > 0 }
			}
		}
		planet_pop_assembly_mult = 0.01
		mult = owner.lrsk_robo_techs
	}
	
	triggered_planet_modifier = {
		potential = { has_deposit = d_lrsk_gvp_legacy_autoinf }
		modifier = { planet_max_buildings_add = 1 }
	}

	upgrades = {
		"lrsk_gvp_bldg_autoindolcenter_2"
	}

	on_built = {
		# re-eval modifiers and pop flags after 2.5 years
		planet = {
			set_timed_planet_flag = { flag = lrsk_autoindol_reeval_hold days = 899 } # hold for just under 2.5 years
			planet_event = { id = lrsk_gvp_autoindol.100 days = 900 }
		}
	}
	
	on_destroy = {
		# re-eval modifiers and pop flags after 2.5 years
		planet = {
			set_timed_planet_flag = { flag = lrsk_autoindol_reeval_hold days = 899 } # hold for just under 2.5 years
			planet_event = { id = lrsk_gvp_autoindol.100 days = 900 }
		}
	}
}

# Developed Automation Infrastructure
lrsk_gvp_bldg_autoindolcenter_2 = {
	base_buildtime = @lrsk_autoindolcenter2_time
	can_build = no

	category = government

	potential = {
		exists = owner
		owner = {
			has_valid_civic = lrsk_gov_var_civic_automated_indolence
		}
	}

	allow = {
		has_upgraded_capital = yes
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @lrsk_autoindolcenter2_minerals
			alloys = @lrsk_autoindolcenter2_rare_cost
		}
		upkeep = {
			energy = @lrsk_autoindolcenter2_upkeep
			alloys = @lrsk_autoindolcenter2_rare_upkeep
		}
	}

	planet_modifier = {
		planet_jobs_worker_produces_mult = 0.05
		planet_amenities_add = @lrsk_autoindolcenter2_amenities
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_automated_indolence
				is_variable_set = lrsk_ai_techs
				check_variable = { which = lrsk_ai_techs value > 0 }
			}
			NOT = { has_modifier = penal_colony }
		}
		planet_jobs_specialist_produces_mult = 0.02
		mult = owner.lrsk_ai_techs
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_automated_indolence
				is_variable_set = lrsk_robo_techs
				check_variable = { which = lrsk_robo_techs value > 0 }
			}
		}
		planet_pop_assembly_mult = 0.02
		mult = owner.lrsk_robo_techs
	}
	
	triggered_planet_modifier = {
		potential = { has_deposit = d_lrsk_gvp_legacy_autoinf }
		modifier = { planet_max_buildings_add = 1 }
	}

	upgrades = {
		"lrsk_gvp_bldg_autoindolcenter_3"
	}
}

# Comprehensive Automation Infrastructure
lrsk_gvp_bldg_autoindolcenter_3 = {
	base_buildtime = @lrsk_autoindolcenter3_time
	can_build = no

	category = government

	potential = {
		exists = owner
		owner = {
			has_valid_civic = lrsk_gov_var_civic_automated_indolence
		}
	}

	allow = {
		has_major_upgraded_capital = yes
		NOT = { has_modifier = penal_colony }
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @lrsk_autoindolcenter3_minerals
			alloys = @lrsk_autoindolcenter3_rare_cost
			rare_crystals = @lrsk_autoindolcenter2_rare_cost
		}
		upkeep = {
			energy = @lrsk_autoindolcenter3_upkeep
			alloys = @lrsk_autoindolcenter3_rare_upkeep
			rare_crystals = @lrsk_autoindolcenter2_rare_upkeep
		}
	}

	planet_modifier = {
		planet_jobs_worker_produces_mult = 0.075
		planet_amenities_add = @lrsk_autoindolcenter3_amenities
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_automated_indolence
				is_variable_set = lrsk_ai_techs
				check_variable = { which = lrsk_ai_techs value > 0 }
			}
			NOT = { has_modifier = penal_colony }
		}
		planet_jobs_specialist_produces_mult = 0.03
		mult = owner.lrsk_ai_techs
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_automated_indolence
				is_variable_set = lrsk_robo_techs
				check_variable = { which = lrsk_robo_techs value > 0 }
			}
		}
		planet_pop_assembly_mult = 0.03
		mult = owner.lrsk_robo_techs
	}
	
	triggered_planet_modifier = {
		potential = { has_deposit = d_lrsk_gvp_legacy_autoinf }
		modifier = { planet_max_buildings_add = 1 }
	}

	upgrades = {
		"lrsk_gvp_bldg_autoindolcenter_4"
	}
}

# Consummate Automation Infrastructure
lrsk_gvp_bldg_autoindolcenter_4 = {
	base_buildtime = @lrsk_autoindolcenter4_time
	can_build = no

	category = government

	potential = {
		exists = owner
		owner = {
			has_valid_civic = lrsk_gov_var_civic_automated_indolence
		}
	}

	allow = {
		has_fully_upgraded_capital = yes
		NOR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
			has_modifier = penal_colony
		}
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @lrsk_autoindolcenter4_minerals
			alloys = @lrsk_autoindolcenter4_rare_cost
			rare_crystals = @lrsk_autoindolcenter3_rare_cost
		}
		upkeep = {
			energy = @lrsk_autoindolcenter4_upkeep
			alloys = @lrsk_autoindolcenter4_rare_upkeep
			rare_crystals = @lrsk_autoindolcenter3_rare_upkeep
		}
	}

	planet_modifier = {
		planet_jobs_worker_produces_mult = 0.1
		planet_amenities_add = @lrsk_autoindolcenter4_amenities
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_automated_indolence
				is_variable_set = lrsk_ai_techs
				check_variable = { which = lrsk_ai_techs value > 0 }
			}
			NOR = {
				has_modifier = resort_colony
				has_modifier = slave_colony
				has_modifier = penal_colony
			}
		}
		planet_jobs_specialist_produces_mult = 0.04
		mult = owner.lrsk_ai_techs
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_automated_indolence
				is_variable_set = lrsk_robo_techs
				check_variable = { which = lrsk_robo_techs value > 0 }
			}
		}
		planet_pop_assembly_mult = 0.04
		mult = owner.lrsk_robo_techs
	}
	
	triggered_planet_modifier = {
		potential = { has_deposit = d_lrsk_gvp_legacy_autoinf }
		modifier = { planet_max_buildings_add = 1 }
	}
}

# Refreshing Leisure Reserves
lrsk_gvp_bldg_autoindolfunplex_1 = {
	base_buildtime = @lrsk_autoindolfunplex1_time
	base_cap_amount = 1

	#exempt_from_ai_planet_specialization = no	#???

	category = government

	potential = {
		exists = owner
		owner = {
			has_valid_civic = lrsk_gov_var_civic_automated_indolence
		}
	}
	
	allow = {
		has_building = lrsk_gvp_bldg_autoindolcenter_2
		NOT = { has_modifier = penal_colony }
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = @lrsk_autoindolfunplex1_minerals
		}
		upkeep = {
			energy = @lrsk_autoindolfunplex1_upkeep
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			has_building = lrsk_gvp_bldg_autoindolcenter_2
		}
		#pop_cat_ruler_happiness = 0.05
		#pop_cat_specialist_happiness = 0.05
		pop_cat_worker_happiness = 0.025
	}
	
	triggered_planet_modifier = {
		potential = {
			has_building = lrsk_gvp_bldg_autoindolcenter_2
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_automated_indolence
			}
			NOR = {
				has_modifier = slave_colony
				has_modifier = penal_colony
			}
		}
		job_lrsk_gvp_job_pampered_respite_per_pop = 0.05
	}

	triggered_planet_modifier = {
		potential = {
			has_building = lrsk_gvp_bldg_autoindolcenter_2
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_automated_indolence
				is_variable_set = lrsk_autoadmin_techs
				check_variable = { which = lrsk_autoadmin_techs value > 0 }
			}
			NOT = { has_modifier = penal_colony }
			free_jobs_of_type = {
				job = lrsk_gvp_job_pampered_respite
				include_deprioritized_jobs = yes
				value < 1
			}
		}
		#pop_cat_ruler_happiness = 0.01
		#pop_cat_specialist_happiness = 0.01
		pop_cat_worker_happiness = 0.01
		pop_amenities_usage_mult = -0.01
		mult = owner.lrsk_autoadmin_techs
	}
	
	triggered_planet_modifier = {
		potential = { has_deposit = d_lrsk_gvp_legacy_autoinf }
		modifier = { planet_max_buildings_add = 1 }
	}

	upgrades = {
		"lrsk_gvp_bldg_autoindolfunplex_2"
	}
}

# Luxurious Leisure Reserves
lrsk_gvp_bldg_autoindolfunplex_2 = {
	base_buildtime = @lrsk_autoindolfunplex2_time
	can_build = no

	category = government

	potential = {
		exists = owner
		owner = {
			has_valid_civic = lrsk_gov_var_civic_automated_indolence
		}
	}

	allow = {
		has_building = lrsk_gvp_bldg_autoindolcenter_3
		NOT = { has_modifier = penal_colony }
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @lrsk_autoindolfunplex2_minerals
			exotic_gases = @lrsk_autoindolfunplex2_rare_cost
		}
		upkeep = {
			energy = @lrsk_autoindolfunplex2_upkeep
			exotic_gases = @lrsk_autoindolfunplex2_rare_upkeep
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			has_building = lrsk_gvp_bldg_autoindolcenter_3
		}
		#pop_cat_ruler_happiness = 0.05
		pop_cat_specialist_happiness = 0.025
		pop_cat_worker_happiness = 0.05
	}
	
	triggered_planet_modifier = {
		potential = {
			has_building = lrsk_gvp_bldg_autoindolcenter_3
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_automated_indolence
			}
			NOR = {
				has_modifier = slave_colony
				has_modifier = penal_colony
			}
		}
		job_lrsk_gvp_job_pampered_respite_per_pop = 0.1
	}

	triggered_planet_modifier = {
		potential = {
			has_building = lrsk_gvp_bldg_autoindolcenter_3
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_automated_indolence
				is_variable_set = lrsk_autoadmin_techs
				check_variable = { which = lrsk_autoadmin_techs value > 0 }
			}
			NOT = { has_modifier = penal_colony }
			free_jobs_of_type = {
				job = lrsk_gvp_job_pampered_respite
				include_deprioritized_jobs = yes
				value < 1
			}
		}
		#pop_cat_ruler_happiness = 0.02
		pop_cat_specialist_happiness = 0.01
		pop_cat_worker_happiness = 0.02
		pop_amenities_usage_mult = -0.02
		mult = owner.lrsk_autoadmin_techs
	}
	
	triggered_planet_modifier = {
		potential = { has_deposit = d_lrsk_gvp_legacy_autoinf }
		modifier = { planet_max_buildings_add = 1 }
	}

	upgrades = {
		"lrsk_gvp_bldg_autoindolfunplex_3"
	}
}

# Indulgent Leisure Reserves
lrsk_gvp_bldg_autoindolfunplex_3 = {
	base_buildtime = @lrsk_autoindolfunplex3_time
	can_build = no

	category = government

	potential = {
		exists = owner
		owner = {
			has_valid_civic = lrsk_gov_var_civic_automated_indolence
		}
	}

	allow = {
		NOT = { has_modifier = penal_colony }
		OR = {
			has_building = lrsk_gvp_bldg_autoindolcenter_4
			has_modifier = resort_colony
			has_modifier = slave_colony
		}
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @lrsk_autoindolfunplex3_minerals
			exotic_gases = @lrsk_autoindolfunplex3_rare_cost
		}
		upkeep = {
			energy = @lrsk_autoindolfunplex3_upkeep
			exotic_gases = @lrsk_autoindolfunplex3_rare_upkeep
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			has_building = lrsk_gvp_bldg_autoindolcenter_4
		}
		pop_cat_ruler_happiness = 0.025
		pop_cat_specialist_happiness = 0.05
		pop_cat_worker_happiness = 0.075
	}
	
	triggered_planet_modifier = {
		potential = {
			OR = {
				has_building = lrsk_gvp_bldg_autoindolcenter_4
				has_modifier = resort_colony
			}
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_automated_indolence
			}
			NOR = {
				has_modifier = slave_colony
				has_modifier = penal_colony
			}
		}
		job_lrsk_gvp_job_pampered_respite_per_pop = 0.15
	}

	triggered_planet_modifier = {
		potential = {
			OR = {
				has_building = lrsk_gvp_bldg_autoindolcenter_4
				has_modifier = resort_colony
				has_modifier = slave_colony
			}
			exists = owner
			owner = {
				has_valid_civic = lrsk_gov_var_civic_automated_indolence
				is_variable_set = lrsk_autoadmin_techs
				check_variable = { which = lrsk_autoadmin_techs value > 0 }
			}
			NOT = { has_modifier = penal_colony }
			free_jobs_of_type = {
				job = lrsk_gvp_job_pampered_respite
				include_deprioritized_jobs = yes
				value < 1
			}
		}
		pop_cat_ruler_happiness = 0.01
		pop_cat_specialist_happiness = 0.02
		pop_cat_worker_happiness = 0.03
		pop_amenities_usage_mult = -0.03
		mult = owner.lrsk_autoadmin_techs
	}
	
	triggered_planet_modifier = {
		potential = { has_deposit = d_lrsk_gvp_legacy_autoinf }
		modifier = { planet_max_buildings_add = 1 }
	}
}

## Branch Office Buildings

# Managerial Technique Institute
lrsk_gvp_bldg_managerial_technique_institute = {
	base_buildtime = @b1_time
	base_cap_amount = 1

	owner_type = corporate
	category = trade

	potential = {
		has_branch_office = yes
		branch_office_owner = { has_valid_civic = lrsk_gov_var_civic_mc_sci_mgnt }
	}

	planet_modifier = {
		job_lrsk_gov_var_job_functionary_add = 2
	}
	
	triggered_desc = {
		trigger = {
			branch_office_owner = {  NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		text = lrsk_legit_mgmt_bonus
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		modifier = {
			branch_office_value_mult = 0.1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
			count_owned_pop = {
				limit = { has_job = lrsk_gov_var_job_functionary }
				count = 1
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
			count_owned_pop = {
				limit = { has_job = lrsk_gov_var_job_functionary }
				count > 1
			}
		}
		modifier = {
			branch_office_value_mult = 0.1
		}
	}
	
	triggered_desc = {
		trigger = {
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		text = lrsk_crim_mgmt_bonus
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		modifier = {
			planet_crime_add = 20
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
			count_owned_pop = {
				limit = { has_job = lrsk_gov_var_job_functionary }
				count = 1
			}
		}
		modifier = {			
			planet_crime_mult = 0.1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
			count_owned_pop = {
				limit = { has_job = lrsk_gov_var_job_functionary }
				count > 1
			}
		}
		modifier = {			
			planet_crime_mult = 0.2
		}
	}

	resources = {
		category = planet_branch_office_buildings
		cost = {
			minerals = 500
		}
		upkeep = {
			energy = 2
		}
	}

	ai_weight = {
		weight = 100
	}
}

# Learnarium Dome
lrsk_gvp_bldg_learnarium_dome = {
	base_buildtime = @b1_time
	base_cap_amount = 1

	owner_type = corporate
	category = research

	potential = {
		has_branch_office = yes
		branch_office_owner = { has_valid_civic = lrsk_gov_var_civic_mc_edu_corp }
	}

	planet_modifier = {
		job_lrsk_gov_var_job_infoguide_add = 2
	}
	
	triggered_desc = {
		trigger = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		text = lrsk_branch_value_legit_materialist
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		modifier = {
			pop_ethic_materialist_attraction_mult = 0.5
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		text = lrsk_branch_value_crime_materialist
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		modifier = {
			pop_ethic_materialist_attraction_mult = 0.25
			planet_crime_add = 20
		}
	}
	
	triggered_desc = {
		trigger = {
			pop_percentage = {
				percentage >= 0
				limit = {
					is_materialist = yes
				}
			}
		}
		text = lrsk_scaling_branch_value_materialist
	}

	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage > 0
				limit = {
					is_materialist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.1
				limit = {
					is_materialist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.2
				limit = {
					is_materialist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.3
				limit = {
					is_materialist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.4
				limit = {
					is_materialist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.5
				limit = {
					is_materialist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.6
				limit = {
					is_materialist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.7
				limit = {
					is_materialist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.8
				limit = {
					is_materialist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.9
				limit = {
					is_materialist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}

	resources = {
		category = planet_branch_office_buildings
		cost = {
			minerals = 500
		}
		produces = {
			energy = 5
		}
	}

	ai_weight = {
		weight = 250
	}
}

# Odd Jobs Emporium
lrsk_gvp_bldg_odd_jobs_emporium = {
	base_buildtime = @b1_time
	base_cap_amount = 1

	owner_type = corporate
	category = amenity

	potential = {
		has_branch_office = yes
		branch_office_owner = { has_valid_civic = lrsk_gov_var_civic_mc_gig_economy }
	}

	planet_modifier = {
		job_lrsk_gov_var_job_gofer_add = 2
	}
	
	triggered_desc = {
		trigger = {
			branch_office_owner = {  NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		text = lrsk_legit_gofer_bonus
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		modifier = {
			branch_office_value_mult = 0.1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
			count_owned_pop = {
				limit = { has_job = lrsk_gov_var_job_gofer }
				count = 1
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
			count_owned_pop = {
				limit = { has_job = lrsk_gov_var_job_gofer }
				count > 1
			}
		}
		modifier = {
			branch_office_value_mult = 0.1
		}
	}
	
	triggered_desc = {
		trigger = {
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		text = lrsk_crim_courier_bonus
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		modifier = {
			branch_office_value_mult = 0.05
			planet_crime_add = 20
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
			count_owned_pop = {
				limit = { has_job = lrsk_gov_var_job_gofer }
				count = 1
			}
		}
		modifier = {
			planet_crime_mult = 0.1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
			count_owned_pop = {
				limit = { has_job = lrsk_gov_var_job_gofer }
				count > 1
			}
		}
		modifier = {
			planet_crime_mult = 0.2
		}
	}

	resources = {
		category = planet_branch_office_buildings
		cost = {
			minerals = 500
		}
		upkeep = {
			energy = 2
		}
	}

	ai_weight = {
		weight = 100
	}
}

# Organizing Hub
lrsk_gvp_bldg_organizing_hub = {
	base_buildtime = @b1_time
	base_cap_amount = 1

	owner_type = corporate
	category = government

	potential = {
		has_branch_office = yes
		branch_office_owner = { has_valid_civic = lrsk_gov_var_civic_mc_workers_councils }
	}
	
	planet_modifier = {
		pop_cat_worker_happiness = 0.1
		pop_cat_worker_political_power = 0.2
	}
	
	triggered_desc = {
		trigger = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		text = lrsk_branch_value_legit_egalitarian
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		modifier = {
			pop_ethic_egalitarian_attraction_mult = 0.5
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		text = lrsk_branch_value_crime_egalitarian
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		modifier = {
			pop_ethic_egalitarian_attraction_mult = 0.25
			planet_crime_add = 20
		}
	}
	
	triggered_desc = {
		trigger = {
			pop_percentage = {
				percentage >= 0
				limit = {
					is_egalitarian = yes
				}
			}
		}
		text = lrsk_scaling_branch_value_egalitarian
	}

	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage > 0
				limit = {
					is_egalitarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.1
				limit = {
					is_egalitarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.2
				limit = {
					is_egalitarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.3
				limit = {
					is_egalitarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.4
				limit = {
					is_egalitarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.5
				limit = {
					is_egalitarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.6
				limit = {
					is_egalitarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.7
				limit = {
					is_egalitarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.8
				limit = {
					is_egalitarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.9
				limit = {
					is_egalitarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}

	resources = {
		category = planet_branch_office_buildings
		cost = {
			minerals = 500
		}
		upkeep = {
			energy = 2
		}
	}

	ai_weight = {
		weight = 250
	}
}

# Grand Casino
lrsk_gov_var_bldg_grand_casino = {
	base_buildtime = @b1_time
	base_cap_amount = 1

	owner_type = corporate
	category = amenity

	potential = {
		has_branch_office = yes
		branch_office_owner = { has_valid_civic = lrsk_gov_var_civic_mc_casino_mystic }
	}

	planet_modifier = {
		planet_amenities_add = 10
	}
	
	triggered_desc = {
		trigger = {
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		text = lrsk_legit_gamble_bonus
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		modifier = {
			branch_office_value_mult = 0.1
		}
	}
	
	triggered_desc = {
		trigger = {
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		text = lrsk_crim_gamble_bonus
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		modifier = {
			planet_crime_add = 20
		}
	}
	
	triggered_desc = {
		trigger = {
			branch_office_owner = { has_valid_civic = lrsk_gov_var_civic_mc_casino_mystic }
		}
		text = lrsk_casino_events_desc
	}
	
	on_built = {
		set_planet_flag = lrsk_can_get_casino_events_from@branch_office_owner
		owner = {
			change_variable = { which = lrsk_num_owned_casinos value = 1 }
		}
		branch_office_owner = {
			change_variable = { which = lrsk_num_built_casinos value = 1 }
		}
	}
    
	on_destroy = {
		if = { limit = { has_planet_flag = lrsk_can_get_casino_events_from@branch_office_owner }
			remove_planet_flag = lrsk_can_get_casino_events_from@branch_office_owner
		}
		owner = {
			change_variable = { which = lrsk_num_owned_casinos value = 1 }
		}
		branch_office_owner = {
			subtract_variable = { which = lrsk_num_built_casinos value = 1 }
		}
	}

	resources = {
		category = planet_branch_office_buildings
		cost = {
			minerals = 500
		}
		produces = {
			energy = 5
		}
	}

	ai_weight = {
		weight = 100
	}
}

# Professional Protection Office
lrsk_gov_var_bldg_professional_protection_office = {
	base_buildtime = @b1_time
	base_cap_amount = 1

	owner_type = corporate
	category = government

	potential = {
		has_branch_office = yes
		branch_office_owner = { has_valid_civic = lrsk_gov_var_civic_mc_police_state }
	}
	
	triggered_desc = {
		trigger = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		text = lrsk_branch_value_legit_authoritarian
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		modifier = {
			pop_ethic_authoritarian_attraction_mult = 0.5
			job_lrsk_gov_var_job_investigator_add = 1
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		text = lrsk_branch_value_crime_authoritarian
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		modifier = {
			pop_ethic_authoritarian_attraction_mult = 0.25
			planet_crime_add = 20
			job_lrsk_gov_var_job_suppressor_add = 1
		}
	}
	
	triggered_desc = {
		trigger = {
			pop_percentage = {
				percentage >= 0
				limit = {
					is_authoritarian = yes
				}
			}
		}
		text = lrsk_scaling_branch_value_authoritarian
	}

	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage > 0
				limit = {
					is_authoritarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.1
				limit = {
					is_authoritarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.2
				limit = {
					is_authoritarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.3
				limit = {
					is_authoritarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.4
				limit = {
					is_authoritarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.5
				limit = {
					is_authoritarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.6
				limit = {
					is_authoritarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.7
				limit = {
					is_authoritarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.8
				limit = {
					is_authoritarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.9
				limit = {
					is_authoritarian = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	
	resources = {
		category = planet_branch_office_buildings
		cost = {
			minerals = 500
		}
		upkeep = {
			energy = 2
		}
	}

	ai_weight = {
		weight = 250
	}
}

# Mediation Retreat
lrsk_gov_var_bldg_mediation_retreat = {
	base_buildtime = @b1_time
	base_cap_amount = 1

	owner_type = corporate
	category = government

	potential = {
		has_branch_office = yes
		branch_office_owner = { has_valid_civic = lrsk_gov_var_civic_mc_conflict_res }
	}

	planet_modifier = {
		planet_stability_add = 5
	}
	
	triggered_desc = {
		trigger = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		text = lrsk_branch_value_legit_pacifist
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		modifier = {
			pop_ethic_pacifist_attraction_mult = 0.5
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		text = lrsk_branch_value_crime_pacifist
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		modifier = {
			pop_ethic_pacifist_attraction_mult = 0.25
			planet_crime_add = 20
		}
	}
	
	triggered_desc = {
		trigger = {
			pop_percentage = {
				percentage >= 0
				limit = {
					is_pacifist = yes
				}
			}
		}
		text = lrsk_scaling_branch_value_pacifist
	}

	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage > 0
				limit = {
					is_pacifist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.1
				limit = {
					is_pacifist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.2
				limit = {
					is_pacifist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.3
				limit = {
					is_pacifist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.4
				limit = {
					is_pacifist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.5
				limit = {
					is_pacifist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.6
				limit = {
					is_pacifist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.7
				limit = {
					is_pacifist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.8
				limit = {
					is_pacifist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.9
				limit = {
					is_pacifist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}

	resources = {
		category = planet_branch_office_buildings
		cost = {
			minerals = 500
		}
		upkeep = {
			energy = 2
		}
	}

	ai_weight = {
		weight = 250
	}
}

# Heritage Museum
lrsk_gov_var_bldg_heritage_museum = {
	base_buildtime = @b1_time
	base_cap_amount = 1

	owner_type = corporate
	category = government

	potential = {
		has_branch_office = yes
		branch_office_owner = { has_valid_civic = lrsk_gov_var_civic_mc_heritage_trust }
	}
	
	planet_modifier = {
		pop_citizen_happiness = 0.1
	}
	
	triggered_desc = {
		trigger = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		text = lrsk_branch_value_legit_xenophobe
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		modifier = {
			pop_ethic_xenophobe_attraction_mult = 0.5
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		text = lrsk_branch_value_crime_xenophobe
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		modifier = {
			pop_ethic_xenophobe_attraction_mult = 0.25
			planet_crime_add = 20
		}
	}
	
	triggered_desc = {
		trigger = {
			pop_percentage = {
				percentage >= 0
				limit = {
					is_xenophobe = yes
				}
			}
		}
		text = lrsk_scaling_branch_value_xenophobe
	}

	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage > 0
				limit = {
					is_xenophobe = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.1
				limit = {
					is_xenophobe = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.2
				limit = {
					is_xenophobe = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.3
				limit = {
					is_xenophobe = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.4
				limit = {
					is_xenophobe = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.5
				limit = {
					is_xenophobe = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.6
				limit = {
					is_xenophobe = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.7
				limit = {
					is_xenophobe = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.8
				limit = {
					is_xenophobe = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.9
				limit = {
					is_xenophobe = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}

	resources = {
		category = planet_branch_office_buildings
		cost = {
			minerals = 500
		}
		upkeep = {
			energy = 2
		}
	}

	ai_weight = {
		weight = 250
	}
}

# Galactic Excursions Office
lrsk_gov_var_bldg_galactic_excursions_office = {
	base_buildtime = @b1_time
	base_cap_amount = 1

	owner_type = corporate
	category = amenity

	potential = {
		has_branch_office = yes
		branch_office_owner = { has_valid_civic = lrsk_gov_var_civic_mc_vacay_planning }
	}

	planet_modifier = {
		pop_amenities_usage_mult = -0.15
		pop_ethic_xenophile_attraction_mult = 0.5
	}
	
	triggered_desc = {
		trigger = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		text = lrsk_branch_value_legit_xenophile
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		modifier = {
			pop_ethic_xenophile_attraction_mult = 0.5
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		text = lrsk_branch_value_crime_xenophile
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		modifier = {
			pop_ethic_xenophile_attraction_mult = 0.25
			planet_crime_add = 20
		}
	}
	
	triggered_desc = {
		trigger = {
			pop_percentage = {
				percentage >= 0
				limit = {
					is_xenophile = yes
				}
			}
		}
		text = lrsk_scaling_branch_value_xenophile
	}

	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage > 0
				limit = {
					is_xenophile = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.1
				limit = {
					is_xenophile = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.2
				limit = {
					is_xenophile = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.3
				limit = {
					is_xenophile = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.4
				limit = {
					is_xenophile = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.5
				limit = {
					is_xenophile = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.6
				limit = {
					is_xenophile = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.7
				limit = {
					is_xenophile = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.8
				limit = {
					is_xenophile = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.9
				limit = {
					is_xenophile = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}

	resources = {
		category = planet_branch_office_buildings
		cost = {
			minerals = 500
		}
		upkeep = {
			energy = 2
		}
	}

	ai_weight = {
		weight = 250
	}
}

# Military Excellence Academy
lrsk_gov_var_bldg_military_excellence_academy = {
	base_buildtime = @b1_time
	base_cap_amount = 1

	owner_type = corporate
	category = army

	potential = {
		NOT = { has_global_flag = lrsk_gvp_enhanced_civics_off }
		has_branch_office = yes
		branch_office_owner = {
			has_valid_civic = lrsk_gvp_civic_mc_war_profiteers
		}
	}

	country_modifier = {
		ship_starting_experience_add = 50
		army_starting_experience_add = 50
		commander_exp_gain = 0.1
	}

	triggered_desc = {
		trigger = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		text = lrsk_branch_value_legit_militarist
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		modifier = {
			pop_ethic_militarist_attraction_mult = 0.5
		}
	}
	
	triggered_desc = {
		trigger = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		text = lrsk_branch_value_crime_militarist
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		modifier = {
			pop_ethic_militarist_attraction_mult = 0.25
			planet_crime_add = 20
		}
	}
	
	triggered_desc = {
		trigger = {
			pop_percentage = {
				percentage >= 0
				limit = {
					is_militarist = yes
				}
			}
		}
		text = lrsk_scaling_branch_value_militarist
	}

	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage > 0
				limit = {
					is_militarist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.1
				limit = {
					is_militarist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.2
				limit = {
					is_militarist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.3
				limit = {
					is_militarist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.4
				limit = {
					is_militarist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.5
				limit = {
					is_militarist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.6
				limit = {
					is_militarist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.7
				limit = {
					is_militarist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.8
				limit = {
					is_militarist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	triggered_planet_modifier = {
		potential = {
			pop_percentage = {
				percentage >= 0.9
				limit = {
					is_militarist = yes
				}
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}
	
	#triggered_desc = {
	#	trigger = {
	#		NOT = { has_planet_flag = lrsk_got_general_bonus_from@branch_office_owner }
	#		has_planet_flag = lrsk_got_admiral_bonus_from@branch_office_owner
	#	}
	#	text = lrsk_military_excellence_naval_effect
	#}
	#
	#triggered_desc = {
	#	trigger = {
	#		has_planet_flag = lrsk_got_general_bonus_from@branch_office_owner
	#		NOT = { has_planet_flag = lrsk_got_admiral_bonus_from@branch_office_owner }
	#	}
	#	text = lrsk_military_excellence_army_effect
	#}
	#
	#triggered_desc = {
	#	trigger = {
	#		has_planet_flag = lrsk_got_general_bonus_from@branch_office_owner
	#		has_planet_flag = lrsk_got_admiral_bonus_from@branch_office_owner
	#	}
	#	text = lrsk_military_excellence_both_effect
	#}
	
	# Effect is by event: Better chance of positive military leader traits
	#on_built = {		
	#	if = { limit = { branch_office_owner = { has_valid_civic = civic_private_military_companies } }
	#		owner = { change_variable = { which = lrsk_general_training_bonus value = 1 } }
	#		set_planet_flag = lrsk_got_general_bonus_from@branch_office_owner
	#	}
	#	if = { limit = { branch_office_owner = { has_valid_civic = civic_naval_contractors } }
	#		owner = { change_variable = { which = lrsk_admiral_training_bonus value = 1 } }
	#		set_planet_flag = lrsk_got_admiral_bonus_from@branch_office_owner
	#	}
	#	log = "General training bonus = [owner.lrsk_general_training_bonus]"
	#	log = "Admiral training bonus = [owner.lrsk_admiral_training_bonus]"
	#}
    #
	#on_destroy = {
	#	if = { limit = { has_planet_flag = lrsk_got_general_bonus_from@branch_office_owner }
	#		owner = { subtract_variable = { which = lrsk_general_training_bonus value = 1 } }
	#		remove_planet_flag = lrsk_got_general_bonus_from@branch_office_owner
	#	}
	#	if = { limit = { has_planet_flag = lrsk_got_admiral_bonus_from@branch_office_owner }
	#		owner = { subtract_variable = { which = lrsk_admiral_training_bonus value = 1 } }
	#		remove_planet_flag = lrsk_got_admiral_bonus_from@branch_office_owner
	#	}
	#	log = "General training bonus = [owner.lrsk_general_training_bonus]"
	#	log = "Admiral training bonus = [owner.lrsk_admiral_training_bonus]"
	#}

	resources = {
		category = planet_branch_office_buildings
		cost = {
			minerals = 500
		}
		upkeep = {
			energy = 2
		}
	}

	ai_weight = {
		weight = 250
	}
}

# Reformatory Workhouse
lrsk_gov_var_bldg_reformatory_workhouse = {
	base_buildtime = @b1_time
	base_cap_amount = 1

	owner_type = corporate
	category = government

	potential = {
		NOT = { has_global_flag = lrsk_gvp_enhanced_civics_off }
		has_branch_office = yes
		branch_office_owner = { has_valid_civic = civic_indentured_assets }
	}

	planet_modifier = {	
		planet_jobs_slave_produces_mult = 0.1
		planet_jobs_worker_produces_mult = 0.1
	}
	
	triggered_desc = {
		trigger = {
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		text = lrsk_legit_debt_repay_bonus
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		modifier = {
			branch_office_value_mult = 0.15
		}
	}
	
	triggered_desc = {
		trigger = {
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		text = lrsk_crim_workhouse_pop_steal_chance
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		modifier = {
			planet_crime_add = 20
		}
	}

	on_built = {		
		owner = { change_variable = { which = lrsk_num_owned_workhouses value = 1 }	}
		if = { limit = { branch_office_owner = { has_valid_civic = civic_criminal_heritage } }
			set_planet_flag = lrsk_could_lose_pops_to@branch_office_owner
		}
		branch_office_owner = { change_variable = { which = lrsk_num_built_workhouses value = 1 } }
	}
    
	on_destroy = {
		owner = { change_variable = { which = lrsk_num_owned_workhouses value = 1 } }
		if = { limit = { has_planet_flag = lrsk_could_lose_pops_to@branch_office_owner }
			remove_planet_flag = lrsk_got_general_bonus_from@branch_office_owner
		}
		branch_office_owner = { subtract_variable = { which = lrsk_num_built_workhouses value = 1 } }
	}
	
	resources = {
		category = planet_branch_office_buildings
		cost = {
			minerals = 500
		}
		upkeep = {
			energy = 2
		}
	}

	ai_weight = {
		weight = 100
	}
}

# Local News Station
lrsk_gov_var_bldg_local_news_office = {
	base_buildtime = @b1_time
	base_cap_amount = 1

	owner_type = corporate
	category = government

	potential = {
		NOT = { has_global_flag = lrsk_gvp_enhanced_civics_off }
		has_branch_office = yes
		branch_office_owner = { has_valid_civic = civic_media_conglomerate }
	}

	planet_modifier = {	
		pop_cat_specialist_political_power = 0.2
		pop_cat_specialist_happiness = 0.05
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		modifier = {
			planet_jobs_ruler_produces_mult = 0.1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		modifier = {
			planet_jobs_ruler_produces_mult = 0.05
			planet_crime_add = 20
		}
	}
	
	triggered_desc = {
		trigger = {
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		text = lrsk_media_legit_favor_chance
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		modifier = {
			branch_office_value_mult = 0.1
		}
	}
	
	triggered_desc = {
		trigger = {
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		text = lrsk_media_crim_favor_chance
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		modifier = {
			planet_crime_add = 20
		}
	}
	
	on_built = {
		set_planet_flag = lrsk_could_leak_scandal_to@branch_office_owner
		owner = { change_variable = { which = lrsk_num_owned_localmedia value = 1 } }
		branch_office_owner = { change_variable = { which = lrsk_num_built_localmedia value = 1 } }
	}
    
	on_destroy = {
		owner = { change_variable = { which = lrsk_num_owned_workhouses value = 1 } }
		if = { limit = { has_planet_flag = lrsk_could_leak_scandal_to@branch_office_owner }
			remove_planet_flag = lrsk_could_leak_scandal_to@branch_office_owner
		}
		branch_office_owner = { subtract_variable = { which = lrsk_num_built_localmedia value = 1 } }
	}

	resources = {
		category = planet_branch_office_buildings
		cost = {
			minerals = 500
		}
		upkeep = {
			energy = 2
		}
	}

	ai_weight = {
		weight = 100
	}
}

# Offworld Jobs Placement
lrsk_gov_var_bldg_offworld_jobs_placement = {
	base_buildtime = @b1_time
	base_cap_amount = 1

	owner_type = corporate
	category = resource

	potential = {
		NOT = { has_global_flag = lrsk_gvp_enhanced_civics_off }
		has_branch_office = yes
		branch_office_owner = { has_valid_civic = civic_private_prospectors }
	}

	planet_modifier = {	
		job_lrsk_gov_var_job_offworld_worker_add = 2
	}
	
	triggered_desc = {
		trigger = {
			branch_office_owner = {  NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		text = lrsk_legit_worker_bonus
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
		}
		modifier = {
			branch_office_value_mult = 0.1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
			count_owned_pop = {
				limit = { has_job = lrsk_gov_var_job_offworld_worker }
				count = 1
			}
		}
		modifier = {
			branch_office_value_mult = 0.05
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { NOT = { has_valid_civic = civic_criminal_heritage } }
			count_owned_pop = {
				limit = { has_job = lrsk_gov_var_job_offworld_worker }
				count > 1
			}
		}
		modifier = {
			branch_office_value_mult = 0.1
		}
	}
	
	triggered_desc = {
		trigger = {
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		text = lrsk_crim_smuggle_bonus
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
		}
		modifier = {
			branch_office_value_mult = 0.05
			planet_crime_add = 20
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
			count_owned_pop = {
				limit = { has_job = lrsk_gov_var_job_offworld_worker }
				count = 1
			}
		}
		modifier = {			
			planet_crime_mult = 0.1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = branch_office_owner
			branch_office_owner = { has_valid_civic = civic_criminal_heritage }
			count_owned_pop = {
				limit = { has_job = lrsk_gov_var_job_offworld_worker }
				count > 1
			}
		}
		modifier = {			
			planet_crime_mult = 0.2
		}
	}
	
	triggered_desc = {
		trigger = {
			branch_office_owner = { has_valid_civic = civic_private_prospectors }
		}
		text = lrsk_offworld_work_effect
	}

	# The queue logic controls how many the AI builds, see ai_weight below

	on_queued = {
		branch_office_owner = { change_variable = { which = lrsk_offworld_placement_built value = 1 } }
	}
    
	on_unqueued = {
		branch_office_owner = { subtract_variable = { which = lrsk_offworld_placement_built value = 1 } }
	}

	on_built = {
		branch_office_owner = {
			change_variable = { which = lrsk_offworld_workers_bonus value = 1 }
			country_event = { id = lrsk_gvp_mc_bldg_special.40 }
		}
	}
    
	on_destroy = {
		branch_office_owner = {
			subtract_variable = { which = lrsk_offworld_placement_built value = 1 }
			subtract_variable = { which = lrsk_offworld_workers_bonus value = 1 }
			country_event = { id = lrsk_gvp_mc_bldg_special.40 }
		}
	}

	resources = {
		category = planet_branch_office_buildings
		cost = {
			minerals = 500
		}
		upkeep = {
			energy = 2
		}
	}

	ai_weight = {
		weight = 100
		modifier = {
			# Little advantage to corp past 10 of these...
			factor = 0.01
			branch_office_owner = { check_variable = { which = lrsk_offworld_placement_built value >= 10 } }
		}
	}
}




