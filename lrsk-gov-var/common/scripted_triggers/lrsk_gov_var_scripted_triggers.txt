# Government Variety Pack
# Scripted Triggers
# Author: littleraskol

lrsk_gov_var_has_sublight_colony_origin = {
	OR = {
		has_origin = lrsk_gov_var_origin_sublight_colony_loy
		has_origin = lrsk_gov_var_origin_sublight_colony_gsp
		has_origin = lrsk_gov_var_origin_sublight_colony_dis
	}
}

lrsk_gov_var_is_sublight_subject = {
	OR = {
		is_subject_type = lrsk_gov_var_sublight_vassal
		is_subject_type = lrsk_gov_var_sublight_satellite
	}
}

lrsk_gov_var_has_sublight_overlord_origin = {
	OR = {
		has_origin = lrsk_gov_var_origin_sublight_empire
		has_origin = lrsk_gov_var_origin_sublight_commonwealth
	}
}

lrsk_gov_var_is_chartered_colony_type_gov = {
	OR = {
		has_valid_civic = lrsk_gov_var_civic_mc_chart_corp_board
		has_valid_civic = lrsk_gov_var_civic_mc_chartered_company
	}
}

lrsk_gov_var_has_discovery_origin = {
	or = { 
		has_origin = lrsk_gov_var_origin_for_discovery
		has_origin = lrsk_gov_var_origin_for_discovery_mi
	}
}

lrsk_gov_var_has_tradeways_origin = {
	or = { 
		has_origin = lrsk_gov_var_origin_tradeways
		has_origin = lrsk_gov_var_origin_tradeways_mc
	}
}

lrsk_gov_var_has_newfed_origin = {
	or = {
		lrsk_gov_var_has_discovery_origin = yes
		lrsk_gov_var_has_tradeways_origin = yes
		has_origin = lrsk_gov_var_origin_grand_alliance
	}
}

lrsk_gov_var_has_newfed_npc_origin = {
	or = { 
		has_origin = lrsk_gov_var_origin_for_discovery_npc
		has_origin = lrsk_gov_var_origin_for_discovery_mi_npc
		has_origin = lrsk_gov_var_origin_tradeways_npc
		has_origin = lrsk_gov_var_origin_tradeways_mc_npc
		has_origin = lrsk_gov_var_origin_grand_alliance_npc
	}
}

lrsk_gvp_planet_can_get_wild_cult = {
	OR = {
		NOT = { has_modifier = lrsk_gov_var_statmod_divine_right_cult }
		NOT = { has_modifier = lrsk_gov_var_statmod_children_of_heaven_cult }
		NOT = { has_modifier = lrsk_gov_var_statmod_holy_war_cult }
		NOT = { has_modifier = lrsk_gov_var_statmod_harmony_cult }
		NOT = { has_modifier = lrsk_gov_var_statmod_chosen_few_cult }
		NOT = { has_modifier = lrsk_gov_var_statmod_universal_family_cult }
		NOT = { has_modifier = lrsk_gov_var_statmod_doomsday_cult }
		NOT = { has_modifier = lrsk_gov_var_statmod_golden_age_cult }
		NOT = { has_modifier = lrsk_gov_var_statmod_wild_revelry_cult }
		NOT = { has_modifier = lrsk_gov_var_statmod_penance_and_redemption_cult }
	}	
}

lrsk_gvp_planet_has_no_wild_cult = {
	NOR = {
		has_modifier = lrsk_gov_var_statmod_divine_right_cult
		has_modifier = lrsk_gov_var_statmod_children_of_heaven_cult
		has_modifier = lrsk_gov_var_statmod_holy_war_cult
		has_modifier = lrsk_gov_var_statmod_harmony_cult
		has_modifier = lrsk_gov_var_statmod_chosen_few_cult
		has_modifier = lrsk_gov_var_statmod_universal_family_cult
		has_modifier = lrsk_gov_var_statmod_doomsday_cult
		has_modifier = lrsk_gov_var_statmod_golden_age_cult
		has_modifier = lrsk_gov_var_statmod_wild_revelry_cult
		has_modifier = lrsk_gov_var_statmod_penance_and_redemption_cult
	}	
}

# Deprecated in 3.0, don't feel like interrogating this fact much tbh
lrsk_complex_worker_job_check_trigger = {
	worker_job_check_trigger = yes
	hidden_trigger = {
		exists = owner
		OR = {
			NOT = { has_trait = trait_mechanical }
			owner = { has_technology = tech_droid_workers }
		}
	}
}

# Checks if a system is an "escape route," meaning:
# 1. It lacks an owner.
# 2. It has not been marked as an escape route already.
# 3. It has at least one unowned neighbor
lrsk_is_hyperlane_escape_route = {
	NOR = { 
		exists = owner
		has_star_flag = lrsk_escape_route
	}
	any_neighbor_system = { NOT = { exists = owner } }
}