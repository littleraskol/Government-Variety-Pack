# Government Variety Pack
# Events - Backend
# Author: littleraskol

# These events serve some general utility function.

namespace = lrsk_government_variety_pack_backend

# Adds a flag denoting this mod is in use, starts up mod-added origins.
event = {
	id = lrsk_government_variety_pack_backend.1
	hide_window = yes
	is_triggered_only = yes
	
	#trigger = { NOT = { has_global_flag = lrsk_government_variety_pack_mod_active } } 
	
	immediate = {
		set_global_flag = lrsk_government_variety_pack_mod_active
		
		## Origins Setup

		# Galactic Backdoor
		every_playable_country = {
			limit = { has_origin = lrsk_gov_var_origin_galactic_backdoor }
			country_event = { id = lrsk_gov_var_galactic_backdoor.1 }
		}
		
		# Shroud-Touched
		every_playable_country = {
			limit = { has_origin = lrsk_gov_var_origin_shroud_touched }
			country_event = { id = lrsk_gov_var_shroud_touched.1 }
		}
		
		# For Discovery / Tradeways / Grand Alliance
		every_playable_country = {
			limit = { OR = { 
				has_origin = lrsk_gov_var_origin_for_discovery
				has_origin = lrsk_gov_var_origin_for_discovery_mi
				has_origin = lrsk_gov_var_origin_tradeways
				has_origin = lrsk_gov_var_origin_tradeways_mc
				has_origin = lrsk_gov_var_origin_grand_alliance
			} }
			country_event = { id = lrsk_gov_var_new_fed_starts.1 }
		}
		
		# Uplift
		every_playable_country = {
			limit = { has_origin = lrsk_gov_var_origin_uplift }
			country_event = { id = lrsk_gov_var_uplift.1 }
		}
		
		# Sublight Empire/Commonwealth
		#every_playable_country = {
		#	limit = { OR = { 
		#		has_origin = lrsk_gov_var_origin_sublight_empire
		#		has_origin = lrsk_gov_var_origin_sublight_commonwealth
		#	} }
		#	#country_event = { id = lrsk_gov_var_sublight_origins.1 }
		#}
	}
}